(()=>{function r(r,o){for(var a=0;a<o.length;a++){var e=o[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}var o,a=function(){function o(r,a){!function(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o);var e=a.settings.id;this.$form=r,this.formInstance=a,this.formId=e}var a,e,n;return a=o,(e=[{key:"init",value:function(){var r=this;this.$form.on("fluentform_next_action_razorpay",(function(o,a){var e=a.response;r.$form.parent().find(".ff_razorpay_text").remove(),jQuery("<div/>",{id:"form_success",class:"ff-message-success ff_razorpay_text"}).html(e.data.message).insertAfter(r.$form),"initRazorPayModal"===e.data.actionName?r.initRazorPayModal(e.data):alert("No method found")}))}},{key:"initRazorPayModal",value:function(r){var o=this,a=r.modal_data;a.handler=function(a){o.formInstance.hideFormSubmissionProgress(o.$form);var e={action:"fluentform_razorpay_confirm_payment",transaction_hash:r.transaction_hash,form_id:o.formId,razorpay_order_id:a.razorpay_order_id,razorpay_payment_id:a.razorpay_payment_id,razorpay_signature:a.razorpay_signature};o.$form.parent().find(".ff_razorpay_text").remove(),jQuery("<div/>",{id:o.formId+"_success",class:"ff-message-success ff_msg_temp ff_razorpay_text"}).html(r.confirming_text).insertAfter(o.$form),o.formInstance.showFormSubmissionProgress(o.$form),o.formInstance.sendData(o.$form,e)},a.modal={escape:!1,ondismiss:function(){o.$form.parent().find(".ff_razorpay_text").remove(),o.formInstance.hideFormSubmissionProgress(o.$form)}};var e=new Razorpay(a);e.on("payment.failed",(function(r){console.log(r),o.formInstance.hideFormSubmissionProgress(o.$form)})),this.formInstance.showFormSubmissionProgress(this.$form),e.open()}}])&&r(a.prototype,e),n&&r(a,n),Object.defineProperty(a,"prototype",{writable:!1}),o}();(o=jQuery).each(o("form.fluentform_has_payment"),(function(){var r=o(this);r.on("fluentform_init_single",(function(o,e){new a(r,e).init()}))}))})();